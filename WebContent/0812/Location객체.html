<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" href="../css/public.css">
	
	<script>
		function proc1(){
			url = "http://localhost/webpro/0811/input.html";
			
			// location.href : 현재 실행중인 웹페이지의 주소를 가져온다.
			res = "href = " + location.href + "<br>";
			res += "protocol = " + location.protocol + "<br>";
			res += "host = " + location.host + "<br>";
			res += "hostname = " + location.hostname + "<br>";
			res += "port = " + 80 + "<br>";
			res += "pathname = " + location.pathname + "<br>";
			
			document.getElementById('result1').innerHTML = res;
		}
		
		
		function proc2(){
			location.href = "test.jsp";
		}
		
		function goPage() {
			location.href = "test.jsp?id=a001";
		}
		
		function gopagePost(){
			
			// form 검색 - id를 이용
			document.getElementById("ff");
			
			// form 검색 - name을 이용
			document.getElementsByName("ff")[0];
			document.ff.action = "testpost.jsp";
			document.ff.method = "post";
			document.ff.submit();
		}
		
		function goReplace(url){
			location.replace(url);
		}
		
		function goReload(){
			//문자열 배열을 생성, 랜덤을 이용하여 문자열중 하나를 출력한다.
			str = ["Hell~~", "happy", "javascript", "jQuery", "HTML", "css"];
			
			
			//랜덤발생 0~ str.length
			// str[0] or str[5] or str[2]
			rand = Math.floor(Math.random()*str.length);
			res = str[rand];
			
			//출력 - #result2 - 글자색 : red, 글자크기 확대
			result2 = document.getElementById('result2');
			result2.style.color = "red";
			result2.style.fontSize = "1.5em";
			result2.innerHTML = res;
			
			
			
			//0.5초 경과 후 원래 페이지로 다시 로드한다.
			setTimeout(function(){
				location.reload();
			}, 1000);
		}
		
		
		
	</script>
</head>
<body>

	<div class="box">
		<h3>1. url 정보 얻기 </h3>
		href : 전체 url <br>
		port : port번호 반환(80 기본 웹폰트로 생략)  <br>
		host : hostname, port번호  반환<br>
		hostname : hostname 반환<br>
		pathname : 경로(path) 반환<br>
		protocol : protocol 반환<br>
		<br>
		<input type="button" value="확인" onclick="proc1()">
		<br><br>
		<h2>실행결과</h2>
		<div id="result1"></div>
	</div>
	
	
	
	
	
	
	
	<div class="box">
		<h3>1. location객체 이용 </h3>
		<br>
		
		- 자동으로 특정 페이지 이동할 때 사용
		<input type="button" value="페이지 이동" onclick="proc2()">
		<br><br>
		
		- a 태그 이용 : a href속성값으로 javascript함수를 호출 하도록 설정<br>
		href="javascript:함수명()"<br>
		<a href="javascript:goPage()"> 공지사항목록</a>
		<br><br>
		
		- 이벤트 사용(get방식) : <input type="button" value="공지사항목록" onclick="goPage()">
		<br><br>
		
		- 이벤트 사용(post방식) : 
		<form name="ff" id="ff">
			<input type="hidden" value="korea" name="id">
			<input type="button" value="공지사항목록" onclick="gopagePost()">
		</form>
		<br><br>	
		
		- 새로운 문서로 대체 : .replace(URL) 뒤로가기 기능 방지(원래 페이지로 돌아오기 불가능)<br> 
		<input type="button" value="공지사항목록" onclick="goReplace('test.jsp')">
		<br><br>
		
		- 현재문서를 다시로드 : 
		<input type="button" value="페이지 재호출" onclick="goReload()">
		<br><br>
		
		<div id="result2"></div>
		
		
		
	</div>
	
	
	
	
	
	
	
</body>
</html>